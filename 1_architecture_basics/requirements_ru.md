# Инжиниринг требований

Понять, что нужно создать, часто бывает сложнее, чем создать это. Инжиниринг требований преобразует абстрактные бизнес-идеи в конкретные спецификации, которые помогают командам разработчиков создавать программное обеспечение, отвечающее поставленным задачам.

Сбор требований остается сложной задачей для многих команд. Необходимость приступать к разработке до полного понимания требований часто приводит к созданию систем, которые не соответствуют ожиданиям заинтересованных сторон или создают долгосрочные технические долги.

Инжиниринг требований включает в себя выявление и управление тремя различными типами требований: функциональными требованиями (что делает система), нефункциональными требованиями (насколько хорошо она работает) и ограничениями (что ограничивает варианты проектирования). Каждый из них требует различных методов выявления и стратегий вовлечения заинтересованных сторон.

## Выявление функциональных требований: что должна делать система?

Функциональные требования описывают конкретные действия, функции и возможности, которые обеспечивают бизнес-ценность. Хотя они кажутся простыми — «система должна позволять пользователям искать продукты» — дьявол кроется в деталях. Эффективное выявление функциональных требований выходит за рамки сбора списка функций и включает понимание лежащих в основе бизнес-процессов, рабочих процессов пользователей и взаимодействий системы, которые делают функции значимыми.

### Структура «функция-преимущество-выгода»

Эффективным подходом к выявлению функциональных требований является структура «особенности-преимущества-выгоды» (FAB). Эта методология устраняет коммуникационный разрыв между бизнес-заинтересованными сторонами и техническими специалистами, рассматривая требования с трех точек зрения:

- **Особенности** представляют собой то, что может делать система — неотъемлемые характеристики продукта.
- **Преимущества** описывают то, что пользователи получают при использовании этих особенностей.
- **Выгоды** объясняют, почему пользователи хотят иметь эти возможности.

Например, в системе мобильных платежей биометрическая аутентификация является функцией. Преимущество заключается в устранении необходимости ввода PIN-кода, а выгоды включают более быстрые транзакции и повышенную безопасность. Эта структура гарантирует, что требования учитывают как технические возможности, так и бизнес-ценность, предотвращая создание командами функций, которые работают правильно, но решают не те проблемы.

### Event Storming для обнаружения процессов

Event Storming предоставляет гибкий интерактивный подход к обнаружению бизнес-процессов и функциональных требований, которые их поддерживают. Эта техника совместной работы объединяет различных заинтересованных участников — бизнес-экспертов, разработчиков, дизайнеров и специалистов в конкретных областях — для составления схемы сложных бизнес-процессов с помощью простых цветных стикеров.

Процесс фокусируется на событиях в конкретной области — вещах, которые происходят в бизнесе и имеют значение для заинтересованных участников. Начиная с такого события, как «оплата завершена», участники работают в прямом и обратном направлениях, чтобы понять, что вызывает события, кто их инициирует, какие системы задействованы и что происходит дальше. Это визуальное отображение показывает не только отдельные функциональные требования, но и их взаимосвязи и зависимости.

Прелесть Event Storming заключается в его способности выявлять скрытые знания. Бизнес-эксперты часто интуитивно понимают процессы, но затрудняются полностью их сформулировать. Разработчики видят технические возможности, но могут упустить нюансы бизнеса. Event Storming создает общий язык, который помогает обеим группам обнаружить функциональные требования, о существовании которых они не знали.

### Lean Canvas для стратегического контекста

В то время как Event Storming превосходно подходит для функциональных требований на уровне процессов, Lean Canvas предоставляет важный стратегический контекст, который формирует приоритеты требований. Этот одностраничный шаблон бизнес-модели охватывает девять ключевых аспектов: решаемые проблемы, сегменты клиентов, уникальное ценностное предложение, подход к решению, каналы, потоки доходов, структура затрат, ключевые показатели и конкурентные преимущества.

Lean Canvas помогает командам понять не только, какие функциональные требования необходимо реализовать, но и почему они важны и в каком порядке. Он показывает, какие функции являются необходимыми для основного ценностного предложения, а какие являются дополнительными улучшениями. Этот стратегический контекст не позволяет командам рассматривать все функциональные требования как одинаково важные, что позволяет лучше расставлять приоритеты и распределять ресурсы.

### Выявление влиятельных функциональных требований

С архитектурной точки зрения не все функциональные требования одинаковы. Хотя все функциональные требования необходимы для успеха системы, только некоторые из них имеют архитектурное значение. Эти «влиятельные функциональные требования» или «архитектурные убийцы» вынуждают принимать фундаментальные архитектурные решения, которые влияют на всю систему.

Ключ заключается в выявлении функциональных требований, которые вводят новую архитектурную сложность. Простая функция входа пользователя может быть понятной, но «пользователи могут просматривать историю своих действий, даже если они потеряли телефон» внезапно вводит требования к удаленному хранению, синхронизации данных, возможностям работы в автономном режиме и безопасности между устройствами. Одно, казалось бы, невинное функциональное требование может полностью изменить архитектуру системы.

При сборе функциональных требований обращайте особое внимание на те, которые:
- Требуют интеграции с внешними системами
- Включают обработку в реальном или почти реальном времени
- Обработку конфиденциальных данных или требуют специальных мер безопасности
- Должны работать на нескольких платформах или устройствах
- Требуют масштабирования до значительно более высоких объемов, чем другие функции

### Практические методы обнаружения

**Составление карт пользовательских сценариев** помогает командам понять функциональные требования в контексте пользовательских путей. Составляя карту действий пользователей слева направо и разбивая их на конкретные задачи, команды могут выявить недостающие функциональные требования и понять, как функции связаны между собой, чтобы создать полноценный пользовательский опыт.

**Анкеты и структурированные интервью** хорошо подходят для сбора подробных функциональных требований после того, как был понят общий объем работ. Ключ к успеху — задавать открытые вопросы, которые раскрывают не только то, что пользователи хотят делать, но и почему они хотят это делать, а также как они в настоящее время обходят ограничения.

**Макеты и прототипы** делают абстрактные функциональные требования конкретными. Простой прототип может выявить десятки неявных функциональных требований, которые заинтересованные стороны считали очевидными, но никогда не формулировали. Интерактивные макеты также помогают проверить, что предложенные функциональные требования действительно решают поставленные задачи.

## Выявление качественных характеристик: насколько хорошо это должно работать?

Нефункциональные требования, также называемые качественными характеристиками, определяют, насколько хорошо система должна выполнять свои функции. В отличие от функциональных требований, которые часто можно добавлять постепенно, нефункциональные требования обычно требуют архитектурных основ, которые должны быть разработаны с самого начала. Они часто являются разницей между системой, которая работает в демо-версии, и системой, которая работает в производственной среде.

Проблема нефункциональных требований заключается в том, что они часто остаются незаметными до тех пор, пока не будут нарушены. Пользователи не задумываются о времени отклика, пока страницы не загружаются медленно, не думают о доступности, пока система не выходит из строя, и не беспокоятся о безопасности, пока не происходит утечка данных. Эта незаметность делает их легко упускаемыми из виду при сборе требований, что впоследствии приводит к болезненным последствиям.

### Сценарии качественных атрибутов: делаем невидимое видимым

Сценарии качественных атрибутов предоставляют структурированный способ сделать нефункциональные требования явными и поддающимися тестированию. «Масштабируемость» и «производительность» — это всего лишь слова, пока мы не определим конкретные, измеримые сценарии, описывающие ожидаемое поведение системы.

Полный сценарий качества состоит из шести частей:
- **Источник**: кто или что инициирует сценарий
- **Стимул**: событие, требующее реакции системы
- **Артефакт**: тестируемый компонент системы
- **Среда**: контекст работы
- **Реакция**: ожидаемое поведение системы
- **Показатель реакции**: конкретные, измеримые критерии успеха

Например: «Когда 1000 одновременных пользователей (источник) отправляют поисковые запросы (стимул) во время пиковой нагрузки (среда), служба поиска (артефакт) возвращает результаты в течение 500 мс для 95 % запросов (реакция и показатель реакции)».

Хорошие сценарии являются конкретными, измеримыми и поддающимися тестированию. Если вы не можете написать тест для своего сценария, он не является достаточно конкретным, чтобы служить ориентиром для принятия архитектурных решений.

### Семинар по качественным атрибутам (QAW)

Семинар по качественным атрибутам предоставляет структурированный метод для выявления и приоритизации нефункциональных требований на ранних этапах разработки. В отличие от традиционного сбора требований, ориентированного на функциональные особенности, QAW специально нацелен на качественные атрибуты посредством совместного анализа на основе сценариев.

Процесс семинара включает в себя несколько ключевых этапов:

**Презентация бизнеса** устанавливает контекст и цели, помогая техническим командам понять, почему атрибуты качества важны для бизнеса. Речь идет не только о технической производительности, но и о пользовательском опыте, операционных затратах и успехе бизнеса.

**Презентация архитектуры** дает заинтересованным сторонам контекст о текущем или предлагаемом дизайне системы, помогая им понять технические последствия решений, касающихся атрибутов качества.

**Мозговой штурм сценариев** генерирует сценарии атрибутов качества от всех участников. Заинтересованные стороны бизнеса предлагают сценарии, основанные на ожиданиях пользователей и потребностях бизнеса. Члены технической команды добавляют сценарии, основанные на операционных проблемах и системных ограничениях.

**Консолидация сценариев** устраняет дублирование и группирует связанные сценарии, создавая управляемый набор отдельных проблем качества.

**Приоритезация** показывает, какие атрибуты качества наиболее важны для разных заинтересованных сторон, часто выявляя конфликты, которые требуют явного решения.

**Уточнение** позволяет развить сценарии с высоким приоритетом в полные, тестируемые спецификации с использованием шестичастного формата сценария.

Сила QAW заключается в том, что он позволяет сделать неявные ожидания в отношении качества явными, прежде чем они станут архитектурными ограничениями. Гораздо проще проектировать с учетом конкретных целевых показателей производительности, чем модернизировать существующую систему.

### Подходы инженерии надежности сайта (SRE)

Инженерия надежности сайта предоставляет практические рамки для измерения и управления атрибутами качества в производственных системах. Подход SRE соединяет разработку и эксплуатацию, применяя инженерные принципы к задачам обеспечения надежности.

**Показатели уровня обслуживания (SLI)** — это конкретные измеримые метрики, отражающие состояние сервиса с точки зрения пользователя — 95-й процентиль задержки запросов для производительности, соотношение успешных запросов для доступности.

**Цели уровня обслуживания (SLO)** устанавливают конкретные целевые показатели SLI на определенные периоды времени, например «99,9% запросов выполняются в течение 500 мс в течение 28 дней».

**Бюджеты ошибок** количественно определяют допустимую ненадежность в рамках ограничений SLO. SLO доступности 99,9% означает бюджет ошибок 0,1% — примерно 43 минуты простоя в месяц — что обеспечивает баланс между надежностью и скоростью разработки функций.

### Методы обнаружения качественных характеристик

**Семинары «Цель-вопрос-показатель» (GQM)** связывают бизнес-цели с измеримыми качественными характеристиками. Начиная с бизнес-целей, команды работают в обратном направлении, чтобы определить вопросы, которые указывают на достижение целей, и метрики, которые отвечают на эти вопросы. Это гарантирует, что атрибуты качества соответствуют реальным бизнес-потребностям, а не техническим предположениям.

**Интервью с заинтересованными сторонами** особенно хорошо подходят для выявления проблем, связанных с атрибутами качества. Разные заинтересованные стороны заботятся о разных атрибутах качества: конечные пользователи фокусируются на производительности и удобстве использования, операционные команды беспокоятся о надежности и обслуживаемости, а руководители заботятся о стоимости и соответствии нормативным требованиям. Структурированные интервью помогают выявить эти различные точки зрения.

**Анализ архитектурных рисков** — это изучение предлагаемых или существующих архитектур на предмет рисков, связанных с показателями качества. Этот метод помогает выявить, где архитектурные решения могут повлиять на показатели качества, выявляя нефункциональные требования, требующие особого внимания.

### Понимание компромиссов между показателями качества

Показатели качества редко совпадают идеально — меры безопасности увеличивают задержки, высокая доступность требует избыточности и сложности, а масштабируемые архитектуры могут привести к потере согласованности. Наиболее успешные системы оптимизируют нужные качественные характеристики для конкретного контекста, а не пытаются максимизировать все.

## Вывод: создание правильного продукта правильным способом

Инжиниринг требований — основа успешных программных систем. Три типа требований — функциональные, качественные и ограничения — взаимодействуют друг с другом, определяя, что нужно создать, насколько хорошо это должно работать и какие границы определяют решение.

Каждый тип требований требует разных подходов к выявлению: совместные семинары для функциональных требований, структурированные сценарии для качественных характеристик и систематическая идентификация ограничений. Цель — не идеальные требования, а общее понимание между бизнес-заинтересованными сторонами и техническими специалистами.

Требования эволюционируют по мере развития систем и изменения бизнес-контекста. Наиболее успешные системы построены на процессах, которые учитывают эту эволюцию, сохраняя при этом фокус на предоставлении реальной бизнес-ценности. При правильном подходе инжиниринг требований не только предотвращает сбои, но и создает основу для исключительного успеха.